<!DOCTYPE html>
<html>
<head>
    <title>Tauri Test</title>
</head>
<body>
    <h1>Tauri Connection Test</h1>
    <button onclick="testConnection()">Test Tauri Connection</button>
    <div id="output"></div>
    
    <script>
        function log(message) {
            console.log(message);
            document.getElementById('output').innerHTML += '<p>' + message + '</p>';
        }
        
        async function testConnection() {
            log('Testing Tauri connection...');
            log('window.__TAURI__: ' + (typeof window.__TAURI__));
            log('window.__TAURI_INVOKE__: ' + (typeof window.__TAURI_INVOKE__));
            
            // List all window properties that contain TAURI
            const tauriProps = Object.keys(window).filter(key => key.includes('TAURI'));
            log('Tauri properties: ' + JSON.stringify(tauriProps));
            
            // Try to call a simple function
            try {
                if (window.__TAURI__ && window.__TAURI__.tauri) {
                    const result = await window.__TAURI__.tauri.invoke('get_app_data_dir');
                    log('Success with __TAURI__.tauri.invoke: ' + result);
                } else {
                    log('__TAURI__.tauri.invoke not available');
                }
            } catch (error) {
                log('Error with __TAURI__.tauri.invoke: ' + error.message);
            }
        }
        
        // Auto-run test when page loads
        window.addEventListener('load', () => {
            setTimeout(testConnection, 1000);
        });
    </script>
</body>
</html>